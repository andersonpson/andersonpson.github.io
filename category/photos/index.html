---
layout: default
title: "照片"
pagination: 
  enabled: true
  category: photos
---

<div class="about-container">
  
  <h1 style="margin: 0 0 10px 0; font-size: 28px; font-weight: bold;">照片</h1>
  <p style="color: #888; font-size: 15px; margin-bottom: 40px; letter-spacing: 1px;">
    一些记录，它们其实随着时间逐渐失去意义。
  </p>

  <div class="posts-list">
    {% for post in paginator.posts %}
      <article style="margin-bottom: 60px; border-bottom: 1px solid rgba(0,0,0,0.03); padding-bottom: 40px;">
        
        {% if post.image %}
          <a href="{{ site.baseurl }}{{ post.url }}">
            <img src="{{ post.image }}" alt="{{ post.title }}" style="width: 100%; height: auto; display: block; border-radius: 2px;">
          </a>
        {% endif %}
        
        <h2 style="font-size: 20px; margin: 15px 0 8px 0;">
          <a href="{{ site.baseurl }}{{ post.url }}" style="color: #333;">{{ post.title }}</a>
        </h2>
        
        <span style="font-size: 13px; color: #bbb;">{{ post.date | date: "%Y年%m月%d日" }}</span>

      </article>
    {% endfor %}
  </div>

  {% if paginator.total_pages > 1 %}
  <div class="pagination" style="margin-top: 50px; padding-top: 20px; border-top: 1px solid #f9f9f9; font-size: 14px; color: #bbb; display: flex; justify-content: space-between; align-items: center;">
    
    <div style="display: flex; gap: 20px;">
      {% if paginator.previous_page %}
        <a href="{{ paginator.previous_page_path | prepend: site.baseurl | replace: '//', '/' }}" style="color: #666; text-decoration: none;">上一页</a>
      {% endif %}

      {% if paginator.next_page %}
        <a href="{{ paginator.next_page_path | prepend: site.baseurl | replace: '//', '/' }}" style="color: #666; text-decoration: none;">下一页</a>
      {% endif %}
    </div>

    <div style="display: flex; align-items: center;">
      <input type="number" 
             id="page-jump-input" 
             value="{{ paginator.page }}" 
             min="1" 
             max="{{ paginator.total_pages }}"
             style="width: 32px; border: none; border-bottom: 1px solid #eee; background: transparent; text-align: center; font-family: inherit; font-size: 14px; outline: none; color: #666; padding: 0; -moz-appearance: textfield;">
      <span style="margin-left: 5px; color: #bbb;">/ {{ paginator.total_pages }}</span>
    </div>
  </div>

  <script>
    document.getElementById('page-jump-input').addEventListener('keypress', function (e) {
      if (e.key === 'Enter') {
        const targetPage = parseInt(this.value);
        const totalPages = parseInt("{{ paginator.total_pages }}");
        const categoryPath = "{{ site.baseurl }}/category/desiccant/";

        // 严格判断：仅在有效页码范围内跳转，否则不执行 window.location.href
        if (targetPage >= 1 && targetPage <= totalPages) {
          if (targetPage === 1) {
            window.location.href = categoryPath;
          } else {
            window.location.href = categoryPath + "page" + targetPage + "/";
          }
        } else {
          // 超出范围时重置输入框数字，不进行跳转
          this.value = "{{ paginator.page }}";
        }
      }
    });

    // 移除 Chrome/Safari 数字输入框样式
    const styleSheet = document.createElement('style');
    styleSheet.innerText = `
      #page-jump-input::-webkit-outer-spin-button,
      #page-jump-input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
    `;
    document.head.appendChild(styleSheet);
  </script>
  {% endif %}

  <footer style="margin-top: 40px; padding-top: 20px; border-top: 1px solid rgba(0,0,0,0.05);">
    <a href="{{ site.baseurl }}/" style="font-size: 13px; color: #bbb;">返回主页</a>
  </footer>
</div>
